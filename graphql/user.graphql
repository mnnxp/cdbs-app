query GetMySelf {
  myself {
    uuid
    programId
    username
  }
}

query GetSelfData {
  selfData {
    ...selfUserFields
  }
}

query GetSelfDataOpt {
  selfData {
    ...selfUserFields
  }

  programs {
    id
    name
  }

  regions {
    regionId
    langId
    region
  }
}

query GetSettingDataOpt {
  selfData {
    ...selfUserFields
  }

  programs {
    id
    name
  }

  regions {
    regionId
    langId
    region
  }


}

mutation UserUpdate($data: IptUpdateUserData!) {
  putUserUpdate(data: $data)
}

mutation updatePassword($data: IptUpdatePassword!) {
  putUpdatePassword(data: $data)
}

mutation changeTypeAccessUser($newTypeAccess: Int!) {
  changeTypeAccessUser(newTypeAccess: $newTypeAccess)
}

fragment selfUserFields on UserAndRelatedData {
  uuid
  email
  firstname
  lastname
  secondname
  username
  phone
  description
  address
  position
  timeZone
  imageFile {
    uuid
    filename
    filesize
    downloadUrl
  }
  region {
    regionId
    langId
    region
  }
  program {
    id
    name
  }
  isEmailVerified
  isEnabled
  isDelete
  createdAt
  updatedAt
  certificates {
    userUuid
    file {
      uuid
      parentFileUuid
      download {
        uuid
        filename
        filesize
        downloadUrl
      }
      ownerUser {
        uuid
        username
        imageFile {
          uuid
          filename
          filesize
          downloadUrl
        }
      }
      contentType
      program {
        id
        name
      }
      createdAt
      updatedAt
    }
    description
  }
  subscribers
  companiesCount
  componentsCount
  standardsCount
  favCompaniesCount
  favComponentsCount
  favStandardsCount
  favUsersCount
}


query GetUserData($userUuid: String, $username: String) {
  user (userUuid: $userUuid, username: $username) {
    ...userFields
  }
}

query GetUserDataOpt ($username: String) {
  user (username: $username) {
    ...userFields
  }

  programs {
    id
    name
  }

  regions {
    regionId
    langId
    region
  }
}

fragment userFields on ShowUserAndRelatedData {
  uuid
  firstname
  lastname
  secondname
  username
  description
  position
  imageFile {
    uuid
    filename
    filesize
    downloadUrl
  }
  region {
    regionId
    langId
    region
  }
  program {
    id
    name
  }
  createdAt
  updatedAt
  certificates {
    userUuid
    file {
      uuid
      parentFileUuid
      download {
        uuid
        filename
        filesize
        downloadUrl
      }
      ownerUser {
        uuid
        username
        imageFile {
          uuid
          filename
          filesize
          downloadUrl
        }
      }
      contentType
      program {
        id
        name
      }
      createdAt
      updatedAt
    }
    description
  }
  subscribers
  isFollowed
}

mutation AddUserFav($userUuid: String!) {
  addUserFav(userUuid: $userUuid)
}

mutation DeleteUserFav($userUuid: String!) {
  deleteUserFav(userUuid: $userUuid)
}
